{
  "datapackage": {
    "title": "Bindfit",
    "description": "Binding constant fitter",
    "algorithms": [
      {
        "name": "bindfit",
        "title": "Bindfit",
        "code": "ZGVmIG1haW4oCiAgICBkYXRhLAogICAgcGFyYW1zLAogICAgIyBvcHRpb25zLAogICAgKiprd2FyZ3MsCik6CiAgICBpbXBvcnQgbnVtcHkgYXMgbnAKCiAgICBpbXBvcnQgYmluZGZpdAoKICAgIHByaW50KCJBTEdPUklUSE0iKQogICAgcHJpbnQoImRhdGE6IiwgZGF0YSkKICAgIHByaW50KCJwYXJhbXM6IiwgcGFyYW1zKQoKICAgICMgUGFyYW1ldGVycyBhbmQgb3B0aW9ucwogICAgcGFyYW1zID0gewogICAgICAgICJrIjogewogICAgICAgICAgICAiaW5pdCI6IDEwMC4wLAogICAgICAgICAgICAiYm91bmRzIjogewogICAgICAgICAgICAgICAgIm1pbiI6IDAuMCwKICAgICAgICAgICAgICAgICJtYXgiOiBOb25lLAogICAgICAgICAgICB9LAogICAgICAgIH0sCiAgICB9CgogICAgZml0dGVyX25hbWUgPSAibm1yMXRvMSIKICAgIG1ldGhvZCA9ICJOZWxkZXItTWVhZCIKICAgIG5vcm1hbGlzZSA9IFRydWUKICAgIGRpbHV0ZSA9IEZhbHNlCiAgICBmbGF2b3VyID0gIm5vbmUiCgogICAgIyBMb2FkIHJhdyBkYXRhCiAgICBkYXRhID0gbnAuZ2VuZnJvbXR4dCgiaW5wdXQuY3N2IiwgZGVsaW1pdGVyPSIsIiwgc2tpcF9oZWFkZXI9MSkKICAgICMgQmluZGZpdCBleHBlY3RzIGVhY2ggdmFyaWFibGUgYXMgcm93cwogICAgZGF0YV94ID0gbnAudHJhbnNwb3NlKGRhdGFbOiwgOjJdKQogICAgZGF0YV95ID0gbnAudHJhbnNwb3NlKGRhdGFbOiwgMjpdKQoKICAgICMgQXBwbHkgZGlsdXRpb24gY29ycmVjdGlvbgogICAgIyBUT0RPOiBUaGluayBhYm91dCB3aGVyZSB0aGlzIHNob3VsZCBnbyAtIGZpdHRlciBvciBmdW5jdGlvbj8KICAgICMgT3IganVzdCBhcHBseSBpdCBiZWZvcmUgdGhlIGZpdD8KICAgIGlmIGRpbHV0ZToKICAgICAgICBkYXRhX3kgPSBiaW5kZml0LmhlbHBlcnMuZGlsdXRlKGRhdGFfeFswXSwgZGF0YV95KQoKICAgIGZ1bmN0aW9uID0gYmluZGZpdC5mdW5jdGlvbnMuY29uc3RydWN0KAogICAgICAgIGZpdHRlcl9uYW1lLAogICAgICAgIG5vcm1hbGlzZT1ub3JtYWxpc2UsCiAgICAgICAgZmxhdm91cj1mbGF2b3VyLAogICAgKQoKICAgIGZpdHRlciA9IGJpbmRmaXQuZml0dGVyLkZpdHRlcigKICAgICAgICBkYXRhX3gsIGRhdGFfeSwgZnVuY3Rpb24sIG5vcm1hbGlzZT1ub3JtYWxpc2UsIHBhcmFtcz1wYXJhbXMKICAgICkKCiAgICBmaXR0ZXIucnVuX3NjaXB5KHBhcmFtcywgbWV0aG9kPW1ldGhvZCkKCiAgICBzdW1tYXJ5ID0gewogICAgICAgICJmaXR0ZXIiOiBmaXR0ZXJfbmFtZSwKICAgICAgICAiZml0IjogewogICAgICAgICAgICAieSI6IGZpdHRlci5maXQsCiAgICAgICAgICAgICJjb2VmZnNfcmF3IjogZml0dGVyLmNvZWZmc19yYXcsCiAgICAgICAgICAgICJjb2VmZnMiOiBmaXR0ZXIuY29lZmZzLAogICAgICAgICAgICAibW9sZWZyYWNfcmF3IjogZml0dGVyLm1vbGVmcmFjX3JhdywKICAgICAgICAgICAgIm1vbGVmcmFjIjogZml0dGVyLm1vbGVmcmFjLAogICAgICAgICAgICAicGFyYW1zIjogZml0dGVyLnBhcmFtcywKICAgICAgICAgICAgIm5feSI6IG5wLmFycmF5KGZpdHRlci5maXQpLnNpemUsCiAgICAgICAgICAgICJuX3BhcmFtcyI6IGxlbihmaXR0ZXIucGFyYW1zKSArIG5wLmFycmF5KGZpdHRlci5jb2VmZnNfcmF3KS5zaXplLAogICAgICAgIH0sCiAgICAgICAgInFvZiI6IHsKICAgICAgICAgICAgInJlc2lkdWFscyI6IGZpdHRlci5yZXNpZHVhbHMsCiAgICAgICAgICAgICJzc3IiOiBiaW5kZml0LmhlbHBlcnMuc3NyKGZpdHRlci5yZXNpZHVhbHMpLAogICAgICAgICAgICAicm1zIjogYmluZGZpdC5oZWxwZXJzLnJtcyhmaXR0ZXIucmVzaWR1YWxzKSwKICAgICAgICAgICAgImNvdiI6IGJpbmRmaXQuaGVscGVycy5jb3YoZGF0YV95LCBmaXR0ZXIucmVzaWR1YWxzKSwKICAgICAgICAgICAgInJtc190b3RhbCI6IGJpbmRmaXQuaGVscGVycy5ybXMoZml0dGVyLnJlc2lkdWFscywgdG90YWw9VHJ1ZSksCiAgICAgICAgICAgICJjb3ZfdG90YWwiOiBiaW5kZml0LmhlbHBlcnMuY292KGRhdGFfeSwgZml0dGVyLnJlc2lkdWFscywgdG90YWw9VHJ1ZSksCiAgICAgICAgfSwKICAgICAgICAidGltZSI6IGZpdHRlci50aW1lLAogICAgICAgICJvcHRpb25zIjogewogICAgICAgICAgICAiZGlsdXRlIjogZGlsdXRlLAogICAgICAgICAgICAibm9ybWFsaXNlIjogbm9ybWFsaXNlLAogICAgICAgICAgICAibWV0aG9kIjogbWV0aG9kLAogICAgICAgICAgICAiZmxhdm91ciI6IGZsYXZvdXIsCiAgICAgICAgfSwKICAgIH0KCiAgICByZXR1cm4gc3VtbWFyeQo=",
        "inputs": [
          {
            "name": "data",
            "type": "resource",
            "resource": "data"
          },
          {
            "name": "params",
            "type": "resource",
            "resource": "inputParams"
          }
        ],
        "outputs": [
          {
            "name": "params",
            "type": "resource",
            "resource": "outputParams"
          }
        ]
      }
    ],
    "resources": [
      {
        "name": "data",
        "title": "Data",
        "description": "Input data",
        "profile": "tabular-data-resource",
        "data": [
          {
            "Host": 0.000776,
            "Guest": 0.0,
            "Proton 1": 0.0,
            "Proton 2": 0.0,
            "Proton 3": 0.0,
            "Proton 4": 0.0
          },
          {
            "Host": 0.000776,
            "Guest": 9.70537e-05,
            "Proton 1": -0.0039,
            "Proton 2": -0.0005,
            "Proton 3": 0.0007,
            "Proton 4": 0.0002
          },
          {
            "Host": 0.000776,
            "Guest": 0.000193437,
            "Proton 1": -0.0074,
            "Proton 2": -0.001,
            "Proton 3": 0.0024,
            "Proton 4": 0.0012
          },
          {
            "Host": 0.000776,
            "Guest": 0.000289157,
            "Proton 1": -0.0113,
            "Proton 2": -0.0015,
            "Proton 3": 0.00365,
            "Proton 4": 0.0017
          },
          {
            "Host": 0.000776,
            "Guest": 0.00038422,
            "Proton 1": -0.0147,
            "Proton 2": -0.002,
            "Proton 3": 0.0044,
            "Proton 4": 0.00195
          },
          {
            "Host": 0.000776,
            "Guest": 0.000478632,
            "Proton 1": -0.0176,
            "Proton 2": -0.0025,
            "Proton 3": 0.00535,
            "Proton 4": 0.0022
          },
          {
            "Host": 0.000776,
            "Guest": 0.000572402,
            "Proton 1": -0.021,
            "Proton 2": -0.0029,
            "Proton 3": 0.00605,
            "Proton 4": 0.0027
          },
          {
            "Host": 0.000776,
            "Guest": 0.000665535,
            "Proton 1": -0.0245,
            "Proton 2": -0.0034,
            "Proton 3": 0.00655,
            "Proton 4": 0.00295
          },
          {
            "Host": 0.000776,
            "Guest": 0.000758037,
            "Proton 1": -0.0274,
            "Proton 2": -0.0039,
            "Proton 3": 0.00755,
            "Proton 4": 0.0032
          },
          {
            "Host": 0.000776,
            "Guest": 0.000849916,
            "Proton 1": -0.0299,
            "Proton 2": -0.0034,
            "Proton 3": 0.00855,
            "Proton 4": 0.0039
          },
          {
            "Host": 0.000776,
            "Guest": 0.000941176,
            "Proton 1": -0.0328,
            "Proton 2": -0.0044,
            "Proton 3": 0.00925,
            "Proton 4": 0.0041
          },
          {
            "Host": 0.000776,
            "Guest": 0.001076923,
            "Proton 1": -0.0362,
            "Proton 2": -0.0049,
            "Proton 3": 0.0102,
            "Proton 4": 0.00435
          },
          {
            "Host": 0.000776,
            "Guest": 0.001255814,
            "Proton 1": -0.0411,
            "Proton 2": -0.0059,
            "Proton 3": 0.0117,
            "Proton 4": 0.00485
          },
          {
            "Host": 0.000776,
            "Guest": 0.001476112,
            "Proton 1": -0.0465,
            "Proton 2": -0.0064,
            "Proton 3": 0.01315,
            "Proton 4": 0.0056
          },
          {
            "Host": 0.000776,
            "Guest": 0.001778502,
            "Proton 1": -0.0528,
            "Proton 2": -0.0074,
            "Proton 3": 0.0151,
            "Proton 4": 0.00635
          },
          {
            "Host": 0.000776,
            "Guest": 0.002198718,
            "Proton 1": -0.0611,
            "Proton 2": -0.0093,
            "Proton 3": 0.0171,
            "Proton 4": 0.00685
          },
          {
            "Host": 0.000776,
            "Guest": 0.002804382,
            "Proton 1": -0.0699,
            "Proton 2": -0.0103,
            "Proton 3": 0.0205,
            "Proton 4": 0.0083
          },
          {
            "Host": 0.000776,
            "Guest": 0.003569044,
            "Proton 1": -0.0797,
            "Proton 2": -0.0118,
            "Proton 3": 0.0234,
            "Proton 4": 0.0095
          },
          {
            "Host": 0.000776,
            "Guest": 0.004632801,
            "Proton 1": -0.09,
            "Proton 2": -0.0132,
            "Proton 3": 0.0273,
            "Proton 4": 0.01125
          },
          {
            "Host": 0.000776,
            "Guest": 0.006213802,
            "Proton 1": -0.1012,
            "Proton 2": -0.0147,
            "Proton 3": 0.0317,
            "Proton 4": 0.01315
          },
          {
            "Host": 0.000776,
            "Guest": 0.008810489,
            "Proton 1": -0.1139,
            "Proton 2": -0.0171,
            "Proton 3": 0.03565,
            "Proton 4": 0.0144
          },
          {
            "Host": 0.000776,
            "Guest": 0.012504331,
            "Proton 1": -0.1237,
            "Proton 2": -0.0181,
            "Proton 3": 0.04055,
            "Proton 4": 0.0169
          }
        ],
        "schema": {
          "primaryKey": "H",
          "fields": [
            {
              "name": "H",
              "type": "number",
              "title": "",
              "unit": ""
            },
            {
              "name": "G",
              "type": "number",
              "title": "",
              "unit": ""
            }
          ]
        },
        "fields": [
          {
            "name": "Host",
            "title": "Host",
            "unit": "",
            "type": "number"
          },
          {
            "name": "Guest",
            "title": "Guest",
            "unit": "",
            "type": "number"
          },
          {
            "name": "Proton 1",
            "title": "Proton 1",
            "unit": "",
            "type": "number"
          },
          {
            "name": "Proton 2",
            "title": "Proton 2",
            "unit": "",
            "type": "number"
          },
          {
            "name": "Proton 3",
            "title": "Proton 3",
            "unit": "",
            "type": "number"
          },
          {
            "name": "Proton 4",
            "title": "Proton 4",
            "unit": "",
            "type": "number"
          }
        ]
      },
      {
        "name": "inputParams",
        "title": "Input parameters",
        "description": "Initial parameter values",
        "profile": "parameter-data-resource",
        "data": {
          "k": {
            "vary": true,
            "value": 100,
            "lowerBound": 0,
            "upperBound": "Infinity"
          }
        },
        "schema": {
          "keys": [
            {
              "name": "k",
              "unit": "M^{-1}",
              "fields": [
                {
                  "name": "vary",
                  "title": "Vary",
                  "type": "boolean"
                },
                {
                  "name": "value",
                  "title": "Value",
                  "type": "number"
                },
                {
                  "name": "lowerBound",
                  "title": "Lower bound",
                  "type": "number"
                },
                {
                  "name": "upperBound",
                  "title": "Upper bound",
                  "type": "number"
                }
              ]
            }
          ]
        }
      },
      {
        "name": "outputParams",
        "title": "Optimised parameters",
        "description": "Optimised parameter values",
        "profile": "parameter-data-resource"
      }
    ],
    "views": [
      {
        "name": "data",
        "specType": "opendatafit-csv",
        "spec": {},
        "resources": [
          "data"
        ]
      },
      {
        "name": "params",
        "title": "Parameters",
        "specType": "opendatafit-params",
        "spec": {
          "keys": [
            {
              "name": "k"
            }
          ]
        },
        "resources": [
          "inputParams",
          "outputParams"
        ]
      }
    ],
    "displays": [
      {
        "name": "main",
        "algorithms": [
          "nmr11"
        ],
        "layout": {
          "type": "bindfit",
          "spec": {
            "panes": [
              {
                "name": "control",
                "tabs": [
                  "data",
                  "params"
                ]
              },
              {
                "name": "main",
                "tabs": []
              }
            ],
            "tabs": [
              {
                "name": "data",
                "title": "Data",
                "icon": "",
                "views": [
                  "data"
                ]
              },
              {
                "name": "params",
                "title": "Parameters",
                "icon": "",
                "views": [
                  "params"
                ]
              }
            ]
          }
        }
      }
    ]
  },
  "algorithm": "bindfit"
}